package com.jshop.apitests;

import io.restassured.http.ContentType;
import org.testng.annotations.Test;
import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.*;

public class ProductOwnerControllerTest extends AppTest {

    @Test(groups = {"regression","api"})
    public void saveProductOwner_mappedTest() {

    	String payload = "{" + "\"productOwnerId\": 1," + "\"productOwnerName\": \"owner_name\"," + "\"productOwnerEmail\": \"owner@example.com\"," + "\"productOwnerPassword\": \"P@ssw0rd\"," + "\"adminVerify\": \"PENDING\"," + "\"admin\": {\"adminId\": 1}" + "}";
    	
        given()
            .contentType(ContentType.JSON)
            .body(payload)
        .when()
            .post("/productOwner/saveProductOwner")
        .then()
            .statusCode(anyOf(is(200), is(201)));
    }

    @Test(groups = {"regression","api"})
    public void loginWithOwner_mappedTest() {
        given()
        .when()
            .get("/productOwner/loginWithOwner/owner@example.com/test123")
        .then()
            .statusCode(anyOf(is(200), is(404), is(401)));
    }

    @Test(groups = {"regression","api"})
    public void updateProductOwner_mappedTest() {
    	String payload = "{" + "\"productOwnerEmail\":\"owner@example.com\"," + "\"productOwnerName\":\"updated_owner_name\"," + "\"productOwnerPassword\":\"Password@2222\"" + "}";
        given()
            .contentType(ContentType.JSON)
            .body(payload)
        .when()
            .put("/productOwner/updateProductOwner")
        .then()
            .statusCode(anyOf(is(200), is(204)));
    }
}
