package com.jshop.apitests;

import io.restassured.http.ContentType;
import org.testng.annotations.Test;
import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.*;

public class AdminControllerTest extends AppTest {

    @Test(groups = {"regression","api"})
    public void saveAdmin_mappedTest() {
    	 String payload = "{" + "\"adminName\":\"sample_admin\"," + "\"adminEmail\":\"admin@example.com\"," + "\"adminPassword\":\"P@ssw0rd\""
    		        + "}";
        given()
            .contentType(ContentType.JSON)
            .body(payload)
        .when()
            .post("/admin/saveAdmin")
        .then()
            .statusCode(anyOf(is(200), is(201)));
    }

    @Test(groups = {"regression","api"})
    public void loginAdmin_mappedTest() {
        given()
        .when()
            .get("/admin/loginAdmin/test@example.com/test123")
        .then()
            .statusCode(anyOf(is(200), is(404), is(401)));
    }

    @Test(groups = {"regression","api"})
    public void getAllProductOwner_mappedTest() {
        given()
        .when()
            .get("/admin/getAllProductOwner")
        .then()
            .statusCode(anyOf(is(200), is(204)));
    }

    @Test(groups = {"regression","api"})
    public void getProductOwnerById_mappedTest() {
        given()
        .when()
            .get("/admin/getProductOwnerById/1")
        .then()
            .statusCode(anyOf(is(200), is(404)));
    }

    @Test(groups = {"regression","api"})
    public void verifyProductOwner_mappedTest() {
        given().when().put("/admin/verifyProductOwner/1").then().statusCode(anyOf(is(200), is(204)));
    }

    @Test(groups = {"regression","api"})
    public void verifyProductByAdmin_mappedTest() {
        given().when().put("/admin/verifyProductByAdmin/1").then().statusCode(anyOf(is(200), is(204)));
    }
}
